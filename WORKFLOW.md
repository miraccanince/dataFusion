# Workflow: Running Scripts on Raspberry Pi

Since you're not always physically connected to the Raspberry Pi, here's the workflow:

## ğŸ“‹ Overview

```
Your Computer  â†’  Transfer Scripts  â†’  Raspberry Pi
                                      â†“
                                   Run Scripts
                                   Collect Data
                                      â†“
Your Computer  â†  Transfer CSV  â†  Raspberry Pi
     â†“
  Analyze in Jupyter
```

## ğŸš€ Step-by-Step Guide

### **Step 1: Transfer Scripts to Raspberry Pi** (Do this once)

Make the transfer script executable:
```bash
cd /Users/mirac/Desktop/master_sse_25_26-main/dataFusion
chmod +x transfer_to_pi.sh
```

Transfer the scripts:
```bash
./transfer_to_pi.sh
```

**Or manually with SCP:**
```bash
scp 01_collect_stride_data.py jdmc@10.111.224.71:~/dataFusion/
scp 02_naive_dead_reckoning.py jdmc@10.111.224.71:~/dataFusion/
scp understand_sensors.py jdmc@10.111.224.71:~/dataFusion/
```

---

### **Step 2: SSH into Raspberry Pi and Run Scripts**

Connect to Pi:
```bash
ssh jdmc@10.111.224.71
# Password: 12345678
```

Navigate to folder:
```bash
cd ~/dataFusion
ls -l
```

Run the data collection:
```bash
# First, understand your sensors
python understand_sensors.py

# Then collect stride data
python 01_collect_stride_data.py

# Then track position naively
python 02_naive_dead_reckoning.py
```

Exit SSH:
```bash
exit
```

---

### **Step 3: Transfer CSV Files Back to Your Computer**

Make the download script executable:
```bash
cd /Users/mirac/Desktop/master_sse_25_26-main/dataFusion
chmod +x get_data_from_pi.sh
```

Download the data:
```bash
./get_data_from_pi.sh
```

**Or manually with SCP:**
```bash
scp jdmc@10.111.224.71:~/dataFusion/*.csv ./data/
```

---

### **Step 4: Analyze Data on Your Computer**

Open Jupyter:
```bash
cd /Users/mirac/Desktop/master_sse_25_26-main/dataFusion
jupyter notebook 03_analyze_data.ipynb
```

Update the notebook to read from `./data/` folder:
```python
# In the notebook, change:
trajectory = pd.read_csv('data/naive_trajectory.csv')
sensor_data = pd.read_csv('data/stride_data.csv')
```

---

## ğŸ”„ Alternative: Use VS Code Remote SSH

If you want to edit and run directly on the Pi:

1. Install **Remote - SSH** extension in VS Code
2. Connect to `jdmc@10.111.224.71`
3. Open folder `/home/jdmc/dataFusion`
4. Edit and run scripts directly on the Pi!

---

## ğŸ“‚ File Structure

**On Your Computer:**
```
dataFusion/
â”œâ”€â”€ 01_collect_stride_data.py      # Transfer to Pi
â”œâ”€â”€ 02_naive_dead_reckoning.py     # Transfer to Pi
â”œâ”€â”€ understand_sensors.py           # Transfer to Pi
â”œâ”€â”€ 03_analyze_data.ipynb           # Keep on computer
â”œâ”€â”€ transfer_to_pi.sh               # Transfer helper
â”œâ”€â”€ get_data_from_pi.sh             # Download helper
â””â”€â”€ data/                           # Downloaded CSV files
    â”œâ”€â”€ stride_data.csv
    â””â”€â”€ naive_trajectory.csv
```

**On Raspberry Pi:**
```
~/dataFusion/
â”œâ”€â”€ 01_collect_stride_data.py
â”œâ”€â”€ 02_naive_dead_reckoning.py
â”œâ”€â”€ understand_sensors.py
â”œâ”€â”€ stride_data.csv               # Generated by script 1
â””â”€â”€ naive_trajectory.csv          # Generated by script 2
```

---

## ğŸ› Troubleshooting

### Can't connect via SSH?
1. Check if Pi is on same network
2. Check if SSH is enabled on Pi: `sudo systemctl status ssh`
3. Try: `ping 10.111.224.71`

### Python script fails?
Check if Sense HAT library is installed:
```bash
python -c "from sense_hat import SenseHat; print('OK')"
```

If not installed:
```bash
sudo apt-get update
sudo apt-get install sense-hat python3-sense-hat
```

### Permission denied on transfer scripts?
```bash
chmod +x transfer_to_pi.sh
chmod +x get_data_from_pi.sh
```

---

## ğŸ’¡ Quick Commands Reference

**Transfer to Pi:**
```bash
./transfer_to_pi.sh
```

**SSH to Pi:**
```bash
ssh jdmc@10.111.224.71
```

**Run on Pi:**
```bash
cd ~/dataFusion
python 01_collect_stride_data.py
```

**Get data back:**
```bash
./get_data_from_pi.sh
```

**Analyze:**
```bash
jupyter notebook 03_analyze_data.ipynb
```
